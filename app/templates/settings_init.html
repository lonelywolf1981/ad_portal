{% extends "base_app.html" %}
{% block content %}

<div class="d-flex align-items-center justify-content-between mb-3">
  <h1 class="h5 m-0">Инициализация приложения</h1>
</div>

<div class="row g-4">
  <div class="col-12 col-lg-8">
    <div class="card shadow-sm">
      <div class="card-body">
        <h2 class="h6 mb-3">Чеклист инициализации</h2>
        
        <ul class="list-group list-group-flush">
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <span>Режим аутентификации (local или AD)</span>
            {% if checklist.has_local_or_ad_admin %}
              <span class="badge text-bg-success">Готово</span>
            {% else %}
              <span class="badge text-bg-warning">Требуется</span>
            {% endif %}
          </li>
          
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <span>Настройки подключения к AD (если выбран режим AD)</span>
            {% if checklist.ad_configured %}
              <span class="badge text-bg-success">Готово</span>
            {% else %}
              <span class="badge text-bg-warning">Требуется</span>
            {% endif %}
          </li>
          
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <span>Учетные данные для опроса хостов</span>
            {% if checklist.host_query_creds %}
              <span class="badge text-bg-success">Готово</span>
            {% else %}
              <span class="badge text-bg-warning">Требуется</span>
            {% endif %}
          </li>
          
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <span>Диапазоны для сетевого сканирования</span>
            {% if checklist.net_scan_ranges %}
              <span class="badge text-bg-success">Готово</span>
            {% else %}
              <span class="badge text-bg-warning">Требуется</span>
            {% endif %}
          </li>
        </ul>
        
        <div class="mt-4">
          {% if all_checks_passed %}
            <div class="alert alert-success">
              <strong>Поздравляем!</strong> Все обязательные настройки выполнены. Приложение готово к использованию.
            </div>
            <a href="/settings" class="btn btn-primary">Открыть настройки</a>
          {% else %}
            <div class="alert alert-info">
              <strong>Внимание!</strong> Для полноценной работы приложения необходимо выполнить все пункты чеклиста.
            </div>
            <a href="/settings" class="btn btn-primary">Открыть настройки</a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
  
  <div class="col-12 col-lg-4">
    <div class="card shadow-sm">
      <div class="card-body">
        <h2 class="h6">Инструкция по инициализации</h2>
        <ol class="small">
          <li>Выберите режим аутентификации (LOCAL или AD)</li>
          <li>Если выбран режим AD, укажите настройки подключения к контроллеру домена</li>
          <li>Укажите учетные данные для опроса хостов</li>
          <li>Настройте диапазоны IP-адресов для сетевого сканирования</li>
        </ol>
      </div>
    </div>
  </div>
</div>

{% endblock %}